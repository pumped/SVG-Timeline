<html>
	<head>
		<script src="jquery-1.10.2.min.js"></script>
		<script src="base64.js"></script>
		<script src="svg.min.js"></script>
		<script src="timeline.js"></script>
		<link rel="stylesheet" href="timeline.css" />
		<style>
		body {
			background-color:#333;
			margin:0;
			padding:0;
		}
		#timelineContainer {
			background-color:#fff;
			width:100%;
			position:fixed;
			bottom:0;
			max-height:100%;
			overflow:auto;
		}
		</style>
	</head>
	<body>
		<div id="timelineContainer">
			<div id="timeline"></div>
		</div>
		
	</body>
	
	

	<script> 

	var timelines = [{
	startTime:'0',
	endTime:'30',
	ID:'1',
	cost: 0,
	children:[{
			startTime:'5',
			endTime:'30',
			ID:'1.1',
			invStats: [0,2,0,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,1,2,2,3,4,5,6,7,8,9,5,15],
			cost: 500000,
			divisions: [2000,1000,3000,6000,0,1000],
			children:[{
				startTime:'5',
				endTime:'30',
				ID:'1.1.1',
				invStats: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,1,2,2,3,4,5,6,7,8,9,5,20],
				cost: 200000,
				children:[]
			}]
		},{
			startTime:'1',
			endTime:'30',
			ID:'1.2',
			invStats: [],
			cost: 0,
			children:[]
		},{
			startTime:'0',
			endTime:'30',
			ID:'1.3',
			invStats: [],
			cost: 0,
			children:[{
				startTime:'20',
				endTime:'25',
				ID:'1.3.1',
				invStats: [],
				cost: 0,
				children:[]
			},{
				startTime:'4',
				endTime:'28',
				ID:'1.3.2',
				invStats: [],
				cost: 0,
				children:[{
					startTime:'8',
					endTime:'28',
					ID:'1.3.2.1',
					invStats: [],
					cost: 0,
					children:[{
						startTime:'12',
						endTime:'28',
						ID:'1.3.2.1.1',
						invStats: [],
						cost: 0,
						children:[]
					}]
				}]
			}]
		}]
	}];

	var t = new Timeline(timelines);
	t.drawTimeline("timeline");
	encode_as_img_and_link();

	function showLoaded(id,i) {
		t.setLoaded(id,i,getRandomInt(1,100));
		//console.log(i);

		setTimeout(function(){showLoaded(id,i+=1)},1650);
	}

	function getRandomInt(min, max) {
	  return Math.floor(Math.random() * (max - min + 1)) + min;
	}


	showLoaded("1.3",1);
	//t.setLoaded("1.2",1,50);
	//t.setLoaded("1.2",2,25);

	</script>
</html>